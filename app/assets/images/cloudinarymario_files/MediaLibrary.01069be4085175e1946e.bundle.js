webpackJsonp([0],{"../node_modules/lodash/_castFunction.js":function(e,r){e.exports=function(e){return e}},"../node_modules/lodash/chunk.js":function(e,r,t){var s=t("../node_modules/lodash/_baseSlice.js"),n=t("../node_modules/lodash/_isIterateeCall.js"),o=t("../node_modules/lodash/toInteger.js"),i=Math.ceil,a=Math.max;e.exports=function(e,r,t){r=(t?n(e,r,t):void 0===r)?1:a(o(r),0);var c=null==e?0:e.length;if(!c||r<1)return[];for(var u=0,p=0,d=Array(i(c/r));u<c;)d[p++]=s(e,u,u+=r);return d}},"../node_modules/lodash/forOwn.js":function(e,r,t){var s=t("../node_modules/lodash/_baseForOwn.js"),n=t("../node_modules/lodash/_castFunction.js");e.exports=function(e,r){return e&&s(e,n(r))}},"../node_modules/lodash/toLower.js":function(e,r,t){var s=t("../node_modules/lodash/toString.js");e.exports=function(e){return s(e).toLowerCase()}},"./core/ItemTypesDescriptors/ItemTypesDescriptors.helpers.js":function(e,r,t){"use strict";t.d(r,"a",function(){return i});var s=t("../node_modules/lodash/snakeCase.js"),n=t.n(s),o=t("./core/ItemTypesDescriptors/ItemTypesDescriptors.constants.js"),i=function(e,r){if(!e){if(r)throw new Error("'sortDirection' is specified without 'sortField'");return null}return n()(e)+" "+(r||o.f.DESCENDING)}},"./modules/MediaLibrary/ItemTypesDescriptors/Asset/AssetDescriptor.api.js":function(e,r,t){"use strict";var s=t("../node_modules/lodash/toLower.js"),n=t.n(s),o=t("../node_modules/lodash/isNil.js"),i=t.n(o),a=t("../node_modules/lodash/forOwn.js"),c=t.n(a),u=t("../node_modules/lodash/isUndefined.js"),p=t.n(u),d=t("../node_modules/lodash/chunk.js"),l=t.n(d),m=t("./services/services.js"),f=t("./services/misc.js"),y=t("./modules/MediaLibrary/MediaLibrary.helpers.js"),b=t("./core/ItemTypesDescriptors/ItemTypesDescriptors.constants.js"),T=t("./core/ItemTypesDescriptors/ItemTypesDescriptors.helpers.js"),h=t("./modules/MediaLibrary/ItemTypesDescriptors/Asset/AssetDescriptor.constants.js"),D=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},j=this;function v(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){return function s(n,o){try{var i=r[n](o),a=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(a).then(function(e){s("next",e)},function(e){s("throw",e)});e(a)}("next")})}}var I={loadItem:function(){var e=v(regeneratorRuntime.mark(function e(r){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.resourceBrowsing.resource({resource_id:r});case 2:return t=e.sent,e.abrupt("return",t.resource);case 4:case"end":return e.stop()}},e,j)}));return function(r){return e.apply(this,arguments)}}(),loadItems:function(){var e=v(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.filter||p()(r.filter.resourceIds)){e.next=4;break}return e.next=3,O(r);case 3:return e.abrupt("return",e.sent);case 4:if(!(r.filter&&r.filter.moderationKind&&r.filter.moderationStatus)){e.next=9;break}return e.next=8,E(r);case 8:return e.abrupt("return",e.sent);case 9:if(!!i()(r.filter&&r.filter.folderPath)){e.next=14;break}return e.next=13,A(r);case 13:return e.abrupt("return",e.sent);case 14:if(!!i()(r.filter&&r.filter.prefix)){e.next=19;break}return e.next=18,M(r);case 18:return e.abrupt("return",e.sent);case 19:if(!(r.filter&&r.filter.expression)){e.next=24;break}return e.next=23,g(r);case 23:return e.abrupt("return",e.sent);case 24:throw new Error(h.b+"s can only be fetched by one of the following filters: 'resourceIds', 'moderationKind & moderationStatus', 'folderPath', 'prefix' or 'expression'");case 25:case"end":return e.stop()}},e,j)}));return function(r){return e.apply(this,arguments)}}(),updateItem:function(){var e=v(regeneratorRuntime.mark(function e(r,t,s){var n,o,i,a,c,u,p,d,l,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.startsWith(h.a.METADATA+".")?h.a.METADATA:t,e.t0=n,e.next=e.t0===h.a.FILE_NAME?4:e.t0===h.a.NAME?4:e.t0===h.a.FOLDER_PATH?9:e.t0===h.a.MODERATION_STATUS?13:e.t0===h.a.TAGS?21:e.t0===h.a.CONTEXT?21:e.t0===h.a.METADATA?25:30;break;case 4:return o=r.folderPath?r.folderPath+"/":"",e.next=7,m.a.resource.rename({resource_id:r.resourceId,to_public_id:""+o+s});case 7:return i=e.sent,e.abrupt("return",i.resource);case 9:return e.next=11,m.a.resource.rename({resource_id:r.resourceId,to_public_id:s+"/"+r.fileName});case 11:return a=e.sent,e.abrupt("return",a.resource);case 13:return e.next=15,_([r.resourceId],s);case 15:if(!(c=e.sent).updated.length){e.next=20;break}return e.abrupt("return",c.updated[0]);case 20:throw{payload:{error_code:c.failed[0].error,message:c.failed[0].message}};case 21:return e.next=23,m.a.resource.update({resource_id:r.resourceId,resource:(u={},u[t]=s,u)});case 23:return p=e.sent,e.abrupt("return",p.resource);case 25:return l=t.slice("metadata.".length),e.next=28,m.a.resource.update({resource_id:r.resource_id,resource:{metadata:(d={},d[l]=s,d)}});case 28:return f=e.sent,e.abrupt("return",f.resource);case 30:throw new Error("The "+h.b+"'s '"+t+"' property cannot be updated. Only the following props can be updated: '"+h.a.FILE_NAME+"', '"+h.a.FOLDER_PATH+"', '"+h.a.TAGS+"', '"+h.a.CONTEXT+"', '"+h.a.METADATA+"'");case 31:case"end":return e.stop()}},e,j)}));return function(r,t,s){return e.apply(this,arguments)}}(),updateItems:function(){var e=v(regeneratorRuntime.mark(function e(r,t,s){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b.g.SET;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=r.map(function(e){return e.resourceId}),e.t0=t,e.next=e.t0===h.a.FOLDER_PATH?4:e.t0===h.a.MODERATION_STATUS?5:e.t0===h.a.TAGS?6:e.t0===h.a.CONTEXT?7:8;break;case 4:return e.abrupt("return",x(n,s));case 5:return e.abrupt("return",_(n,s));case 6:return e.abrupt("return",R(n,s));case 7:return e.abrupt("return",w(n,s,o));case 8:throw new Error("The "+h.b+"'s '"+t+"' property cannot be updated ("+o+") for multiple assets. Only the following props can be updated: '"+h.a.FOLDER_PATH+"', '"+h.a.MODERATION_STATUS+"', '"+h.a.TAGS+"', '"+h.a.CONTEXT+"'");case 9:case"end":return e.stop()}},e,j)}));return function(r,t,s){return e.apply(this,arguments)}}(),deleteItem:function(){var e=v(regeneratorRuntime.mark(function e(r){var t,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.resourceOperation.destroy({resources:[{resource_id:r.resourceId}]});case 2:if(t=e.sent,1!==(s=t.updated).length){e.next=6;break}return e.abrupt("return",{id:s[0].id,itemType:h.b});case 6:throw new Error("Failed to delete "+h.b+" with resource id '"+r.resourceId+"'");case 7:case"end":return e.stop()}},e,j)}));return function(r){return e.apply(this,arguments)}}(),deleteItems:function(){var e=v(regeneratorRuntime.mark(function e(r){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.resourceOperation.destroy({resources:r.map(function(e){return{resource_id:e.resourceId}})});case 2:return t=e.sent,e.abrupt("return",{deleted:t.updated.map(function(e){return{id:e.id,itemType:h.b}}),failed:t.failed.map(function(e){return{id:e.id,itemType:h.b,error:e.error,message:e.message}})});case 4:case"end":return e.stop()}},e,j)}));return function(r){return e.apply(this,arguments)}}()},O=function(){var e=v(regeneratorRuntime.mark(function e(r){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.restResources.indexByIds(r.filter&&r.filter.resourceIds);case 2:return t=e.sent,e.abrupt("return",{items:t.data,totalCount:t.data.length,nextCursor:null});case 4:case"end":return e.stop()}},e,j)}));return function(r){return e.apply(this,arguments)}}(),E=function(){var e=v(regeneratorRuntime.mark(function e(r){var t,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(f.k)({moderationKind:r.filter&&r.filter.moderationKind,moderationStatus:r.filter&&r.filter.moderationStatus,maxResults:r.maxResults,nextCursor:r.nextCursor}),e.next=3,m.a.restResources.indexByModeration(t);case 3:return s=e.sent,e.abrupt("return",{items:s.data,nextCursor:s.meta.next_cursor,totalCount:null});case 5:case"end":return e.stop()}},e,j)}));return function(r){return e.apply(this,arguments)}}(),A=function(){var e=v(regeneratorRuntime.mark(function e(r){var t,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(f.k)({resourceType:r.filter&&r.filter.resourceType&&r.filter.resourceType!==h.f.ALL?r.filter.resourceType:null,maxResults:r.maxResults,nextCursor:r.nextCursor,sortBy:Object(T.a)(r.sortField,r.sortDirection)}),e.next=3,m.a.restResources.indexByFolder(r.filter&&r.filter.folderPath,t);case 3:return s=e.sent,e.abrupt("return",{items:s.data,nextCursor:s.meta.next_cursor,totalCount:s.meta.total_count});case 5:case"end":return e.stop()}},e,j)}));return function(r){return e.apply(this,arguments)}}(),M=function(){var e=v(regeneratorRuntime.mark(function e(r){var t,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(f.k)({maxResults:r.maxResults,nextCursor:r.nextCursor}),e.next=3,m.a.restResources.indexByPrefix(r.filter&&r.filter.prefix,r.filter&&r.filter.resourceType,t);case 3:return s=e.sent,e.abrupt("return",{items:s.data,nextCursor:s.meta.next_cursor,totalCount:null});case 5:case"end":return e.stop()}},e,j)}));return function(r){return e.apply(this,arguments)}}(),g=function(){var e=v(regeneratorRuntime.mark(function e(r){var t,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(f.k)({expression:r.filter&&r.filter.expression,maxResults:r.maxResults,nextCursor:r.nextCursor,sortBy:Object(T.a)(r.sortField,r.sortDirection)}),e.next=3,m.a.resourceBrowsing.search(t);case 3:return s=e.sent,e.abrupt("return",{items:s.resources,nextCursor:s.next_cursor,totalCount:s.total_count});case 5:case"end":return e.stop()}},e,j)}));return function(r){return e.apply(this,arguments)}}(),x=function(){var e=v(regeneratorRuntime.mark(function e(r,t){var s,n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>h.d.UPDATE_FOLDER_PATH_MAX_ASSETS)){e.next=2;break}throw new Error("Cannot update folder path for more than "+h.d.UPDATE_FOLDER_PATH_MAX_ASSETS+" "+h.b+"s");case 2:return s=l()(r,h.d.UPDATE_FOLDER_PATH_CHUNK_SIZE),e.next=5,Promise.all(s.map(function(e){return m.a.resourceOperation.move({resources:e.map(function(e){return{resource_id:e}}),to_path:t})}));case 5:return n=e.sent,o=function(e){var r={};return c()(e,function(e,t){if(t.startsWith("to_")){var s=t.slice("to_".length);r[s]=e}}),r.folder=Object(y.m)(r.path_for_folder),D({id:e.id,itemType:h.b},r)},i=function(e){return{id:e.id,itemType:h.b,error:e.error,message:e.message}},e.abrupt("return",n.reduce(function(e,r){var t,s;return(t=e.updated).push.apply(t,r.updated.map(o)),(s=e.failed).push.apply(s,r.failed.map(i)),e},{updated:[],failed:[]}));case 9:case"end":return e.stop()}},e,j)}));return function(r,t){return e.apply(this,arguments)}}(),_=function(){var e=v(regeneratorRuntime.mark(function e(r,t){var s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>h.d.UPDATE_MODERATION_STATUS_MAX_ASSETS)){e.next=2;break}throw new Error("Cannot update moderation status for more than "+h.d.UPDATE_MODERATION_STATUS_MAX_ASSETS+" "+h.b+"s");case 2:return e.next=4,m.a.resourceOperation.moderate({resources:r.map(function(e){return{resource_id:e,moderation_status:t}})});case 4:return s=e.sent,e.abrupt("return",{updated:s.updated.map(function(e){return D({id:e.id,itemType:h.b,moderation_status:t},t===h.e.REJECTED?{status:b.c.NOT_FOUND}:{})}),failed:s.failed.map(function(e){return{id:e.id,itemType:h.b,error:e.error,message:e.message}})});case 6:case"end":return e.stop()}},e,j)}));return function(r,t){return e.apply(this,arguments)}}(),R=function(){var e=v(regeneratorRuntime.mark(function e(r,t){var s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>h.d.UPDATE_TAGS_MAX_ASSETS)){e.next=2;break}throw new Error("Cannot update tags for more than "+h.d.UPDATE_TAGS_MAX_ASSETS+" "+h.b+"s");case 2:return e.next=4,m.a.resourceOperation.tag({resources:r.map(function(e){return{resource_id:e}}),tags:t});case 4:return s=e.sent,e.abrupt("return",{updated:s.updated.map(function(e){return{id:e.id,itemType:h.b,tags:e.tags}}),failed:s.failed.map(function(e){return{id:e.id,itemType:h.b,error:e.error,message:e.message}})});case 6:case"end":return e.stop()}},e,j)}));return function(r,t){return e.apply(this,arguments)}}(),w=function(){var e=v(regeneratorRuntime.mark(function e(r,t,s){var o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s===b.g.ADD){e.next=2;break}throw new Error("Update type '"+s+"' is not supported for the 'context' prop");case 2:return o=n()(s),e.next=5,m.a.restResources[o+"Metadata"]({resource_ids:r,context:t});case 5:return i=e.sent,e.abrupt("return",{updated:[].concat(i.resources.map(function(e){return D({},e,{itemType:h.b})})),failed:[]});case 7:case"end":return e.stop()}},e,j)}));return function(r,t,s){return e.apply(this,arguments)}}();r.a=I},"./modules/MediaLibrary/ItemTypesDescriptors/Asset/AssetDescriptor.config.js":function(e,r,t){"use strict";var s=t("../node_modules/lodash/omit.js"),n=t.n(s),o=t("../node_modules/lodash/isNil.js"),i=t.n(o),a=t("./services/services.js"),c=t("./icons.js"),u=t("./core/ItemTypesDescriptors/ItemTypesDescriptors.constants.js"),p=t("./core/ItemTypesDescriptors/ItemTypesDescriptors.js"),d=t("./core/Data/Items/Items.selectors.js"),l=t("./modules/MediaLibrary/ItemTypesDescriptors/Comment/CommentDescriptor.constants.js"),m=t("./modules/MediaLibrary/ItemTypesDescriptors/Asset/AssetDescriptor.constants.js"),f=t("./modules/MediaLibrary/ItemTypesDescriptors/Asset/AssetDescriptor.prototype.js"),y=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},b=arguments;var T={isMatch:function(e,r){if(r&&r.expression)return u.e.UNKNOWN;if(e.substatus===u.d.DELETED)return u.e.NO;if(r&&r.moderationKind&&r.moderationStatus)return r.moderationStatus===e.moderationStatus?u.e.YES:u.e.NO;if(e.moderationStatus===m.e.REJECTED)return u.e.NO;if(r&&r.resourceIds)return r.resourceIds.includes(e.resourceId)?u.e.YES:u.e.NO;if(!i()(r&&r.folderPath))return r.folderPath!==e.folderPath||r.resourceType&&r.resourceType!==e.resourceType?u.e.NO:u.e.YES;if(r&&r.prefix&&r.resourceType)return r.resourceType===e.resourceType&&e.publicId.startsWith(r.prefix)?u.e.YES:u.e.NO;throw new Error("Unexpected error occurred. The filter '"+JSON.stringify(r)+"' is not recognized. Cannot determine whether the item matches the filter")},getItemDirectDependencies:function(e,r){return Object(d.a)(e,l.a).filter(function(e){return Object(p.e)(e,{subjectKind:m.b,subjectId:r.id})})},itemSerializer:function(e){var r=e.folderPath,t=e.folder,s=e.pathForFolder,o=e.accessMode,i=e.kind,a=e.type,c=e.backup,u=e.mlUiRole,p=(e.mlRole,function(e,r){var t={};for(var s in e)r.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}(e,["folderPath","folder","pathForFolder","accessMode","kind","type","backup","mlUiRole","mlRole"])),d=!!b[1],l=y({},d?p:e,{kind:i||a,type:i||a,folderPath:r||t||s||"",accessMode:o||"public",hasBackup:c,role:u});return n()(l,["icon","meta"])},itemPrototype:f.a,getItemIcon:function(e){var r=e.kind===m.c.UPLOAD?e.accessMode:e.kind;return c[r]||""},itemTypeLabel:Object(a.i)("asset.itemTypeLabel")};r.a=T},"./modules/MediaLibrary/ItemTypesDescriptors/Asset/AssetDescriptor.constants.js":function(e,r,t){"use strict";t.d(r,"b",function(){return o}),t.d(r,"a",function(){return i}),t.d(r,"e",function(){return a}),t.d(r,"d",function(){return c}),t.d(r,"c",function(){return u}),t.d(r,"g",function(){return d}),t.d(r,"f",function(){return l});var s=t("./core/ItemTypesDescriptors/ItemTypesDescriptors.constants.js"),n=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},o="asset",i=Object.freeze(n({},s.b,{ROLE:"role",RESOURCE_ID:"resourceId",PUBLIC_ID:"publicId",KIND:"kind",RESOURCE_TYPE:"resourceType",RESOURCE_SUB_TYPE:"resourceSubType",FOLDER_PATH:"folderPath",NAME:"name",FILE_NAME:"filename",FORMAT:"format",WIDTH:"width",HEIGHT:"height",VERSION:"version",MODERATION_STATUS:"moderationStatus",TAGS:"tags",CONTEXT:"context",METADATA:"metadata",ACCESS_MODE:"accessMode",CREATED_AT:"createdAt",UPLOADED_AT:"uploadedAt",BYTES:"bytes",BACKUP_BYES:"backupBytes",URL:"url",SECURE_URL:"secureUrl",THUMBNAIL_URL:"thumbnailUrl",DURATION:"duration",ANIMATED:"animated",META:"meta"})),a=(Object.freeze({RESOURCE_FILE:"resourceFile"}),Object.freeze({MANUAL:"manual",WEBPURIFY:"webpurify",METASCAN:"metascan",REKOGNITION:"aws_rek",GOOGLE_VIDEO:"google_video_moderation"}),Object.freeze({PENDING:"pending",APPROVED:"approved",REJECTED:"rejected"})),c={UPDATE_FOLDER_PATH_MAX_ASSETS:1e3,UPDATE_FOLDER_PATH_CHUNK_SIZE:10,UPDATE_MODERATION_STATUS_MAX_ASSETS:1e3,UPDATE_TAGS_MAX_ASSETS:200},u=Object.freeze({UPLOAD:"upload",FACEBOOK:"facebook",TWITTER:"twitter",DROPBOX:"dropbox",VIMEO:"vimeo",YOUTUBE:"youtube",PRIVATE:"_private",AUTHENTICATED:"authenticated",FETCH:"fetch",TWITTER_NAME:"twitter_name",FOURSQUARE:"foursquare",SPRITE:"sprite",ASSET:"asset",GRAVATAR:"gravatar",TEXT:"text",GPLUS:"gplus",HULU:"hulu",ANIMOTO:"animoto",DAILYMOTION:"dailymotion",MULTI:"multi",INSTAGRAM:"instagram",INSTAGRAM_NAME:"instagram_name",URL2PNG:"url2png",LIST:"list",WORLDSTARHIPHOP:"worldstarhiphop"}),p=Object.freeze({PRIVATE:"private",AUTHENTICATED:"authenticated",PUBLIC:"public"}),d=Object.freeze([p.AUTHENTICATED,p.PRIVATE]),l=(Object.freeze({IDS:"IDS",PREFIX:"PREFIX",FOLDER:"FOLDER",MODERATION:"MODERATION",EXPRESSION:"EXPRESSION",RECENT_UPLOADS:"RECENT_UPLOADS"}),Object.freeze({ALL:"all",IMAGES:"images",VIDEOS:"videos",OTHERS:"others"}))},"./modules/MediaLibrary/ItemTypesDescriptors/Asset/AssetDescriptor.js":function(e,r,t){"use strict";var s=t("./core/ItemTypesDescriptors/ItemTypesDescriptors.js"),n=t("./modules/MediaLibrary/ItemTypesDescriptors/Asset/AssetDescriptor.api.js"),o=t("./modules/MediaLibrary/ItemTypesDescriptors/Asset/AssetDescriptor.config.js"),i=t("./modules/MediaLibrary/ItemTypesDescriptors/Asset/AssetDescriptor.constants.js");Object(s.f)(i.b,{api:n.a,config:o.a})},"./modules/MediaLibrary/ItemTypesDescriptors/Asset/AssetDescriptor.prototype.js":function(e,r,t){"use strict";var s=t("./modules/MediaLibrary/ItemTypesDescriptors/Asset/AssetDescriptor.constants.js"),n={};Object.defineProperty(n,"meta",{get:function(){var e=s.g.includes(this.kind)?this.kind:"public",r=this.kind===s.c.UPLOAD?this.accessMode:e;return{restricted:s.g.includes(r),restriction:r}}}),r.a=n},"./modules/MediaLibrary/ItemTypesDescriptors/Collection/CollectionDescriptor.api.js":function(e,r,t){"use strict";var s=t("../node_modules/lodash/toLower.js"),n=t.n(s),o=t("./services/services.js"),i=t("./services/misc.js"),a=t("./core/ItemTypesDescriptors/ItemTypesDescriptors.helpers.js"),c=t("./modules/MediaLibrary/ItemTypesDescriptors/Collection/CollectionDescriptor.constants.js"),u=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},p=this;function d(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){return function s(n,o){try{var i=r[n](o),a=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(a).then(function(e){s("next",e)},function(e){s("throw",e)});e(a)}("next")})}}var l={loadItem:function(){var e=d(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.collections.find(r,{maxResults:0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,p)}));return function(r){return e.apply(this,arguments)}}(),loadItems:function(){var e=d(regeneratorRuntime.mark(function e(r){var t,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(i.k)({maxResults:r.maxResults,nextCursor:r.nextCursor,sortBy:Object(a.a)(r.sortField,r.sortDirection)}),e.next=3,o.a.collections.all(t);case 3:return s=e.sent,e.abrupt("return",{items:s.collections,nextCursor:s.next_cursor,totalCount:s.total_count});case 5:case"end":return e.stop()}},e,p)}));return function(r){return e.apply(this,arguments)}}(),createItem:function(){var e=d(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.collections.create(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,p)}));return function(r){return e.apply(this,arguments)}}(),updateItem:function(){var e=d(regeneratorRuntime.mark(function e(r,t,s,i){var a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===c.b.NAME?3:e.t0===c.a.ASSETS?6:10;break;case 3:return e.next=5,o.a.collections.update(r.id,((a={})[t]=s,a));case 5:return e.abrupt("return",e.sent);case 6:return u=n()(i),e.next=9,o.a.collections[u](r.id,{resource_ids:s.map(function(e){return e.resource_id})});case 9:return e.abrupt("return",e.sent);case 10:throw new Error("The "+c.c+"'s '"+t+"' property cannot be updated. Only the following props can be updated: 'name'");case 11:case"end":return e.stop()}},e,p)}));return function(r,t,s,n){return e.apply(this,arguments)}}(),deleteItem:function(){var e=d(regeneratorRuntime.mark(function e(r){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.collections.destroy(r.id);case 2:return t=e.sent,e.abrupt("return",u({},t,{itemType:c.c}));case 4:case"end":return e.stop()}},e,p)}));return function(r){return e.apply(this,arguments)}}()};r.a=l},"./modules/MediaLibrary/ItemTypesDescriptors/Collection/CollectionDescriptor.config.js":function(e,r,t){"use strict";var s=t("../node_modules/lodash/omit.js"),n=t.n(s),o=t("../node_modules/lodash/isEmpty.js"),i=t.n(o),a=t("./services/services.js"),c=t("./icons.js"),u=t("./core/ItemTypesDescriptors/ItemTypesDescriptors.constants.js"),p=t("./modules/MediaLibrary/ItemTypesDescriptors/Collection/CollectionDescriptor.prototype.js"),d=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},l=arguments;var m={itemPrototype:p.a,itemSerializer:function(e){var r=e.collectionRole,t=e.resourceCount,s=function(e,r){var t={};for(var s in e)r.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}(e,["collectionRole","resourceCount"]),o=!!l[1],i=d({},o?s:e,{role:r,assetCount:t});return n()(i,["icon","permissions"])},isMatch:function(e,r){if(i()(r))return u.e.YES;throw new Error("Unexpected error occurred. The filter '"+JSON.stringify(r)+"' is not recognized. Cannot determine whether the item matches the filter")},getItemIcon:function(e){return e.isPrivate?c.collection:c.sharedCollection},itemTypeLabel:Object(a.i)("collectionDescriptor.itemTypeLabel")};r.a=m},"./modules/MediaLibrary/ItemTypesDescriptors/Collection/CollectionDescriptor.constants.js":function(e,r,t){"use strict";t.d(r,"c",function(){return o}),t.d(r,"b",function(){return i}),t.d(r,"a",function(){return a});var s=t("./core/ItemTypesDescriptors/ItemTypesDescriptors.constants.js"),n=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},o="collection",i=Object.freeze(n({},s.a,{NAME:"name",CUSTOMER_ID:"customerId",USER_NAME:"userName",ROLE:"role",ASSET_COUNT:"assetsCount",IS_PRIVATE:"isPrivate",PERMISSIONS:"permissions"})),a={ASSETS:"assets"}},"./modules/MediaLibrary/ItemTypesDescriptors/Collection/CollectionDescriptor.js":function(e,r,t){"use strict";var s=t("./core/ItemTypesDescriptors/ItemTypesDescriptors.js"),n=t("./modules/MediaLibrary/ItemTypesDescriptors/Collection/CollectionDescriptor.api.js"),o=t("./modules/MediaLibrary/ItemTypesDescriptors/Collection/CollectionDescriptor.constants.js"),i=t("./modules/MediaLibrary/ItemTypesDescriptors/Collection/CollectionDescriptor.config.js");Object(s.f)(o.c,{api:n.a,config:i.a})},"./modules/MediaLibrary/ItemTypesDescriptors/Comment/CommentDescriptor.api.js":function(e,r,t){"use strict";var s=t("../node_modules/lodash/snakeCase.js"),n=t.n(s),o=t("../node_modules/lodash/transform.js"),i=t.n(o),a=t("./services/services.js"),c=t("./modules/MediaLibrary/ItemTypesDescriptors/Comment/CommentDescriptor.constants.js"),u=this,p=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e};function d(e,r){var t={};for(var s in e)r.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}function l(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){return function s(n,o){try{var i=r[n](o),a=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(a).then(function(e){s("next",e)},function(e){s("throw",e)});e(a)}("next")})}}var m={loadItems:function(){var e=l(regeneratorRuntime.mark(function e(r){var t,s,n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=r.filter||{}).subjectKind&&t.subjectId){e.next=3;break}throw new Error("Must provide Subject-Kind and Subject-Id when creating a new comment");case 3:return e.next=5,a.a.comments.all(t.subjectKind,t.subjectId,{pinnedOnly:t.pinnedOnly,history:t.history,page:r.nextCursor,perPage:r.maxResults});case 5:return s=e.sent,n=s.data,o=s.meta,i=d(s,["data","meta"]),e.abrupt("return",p({},i,{nextCursor:o.next_page,totalCount:o.total_entries,items:n}));case 10:case"end":return e.stop()}},e,u)}));return function(r){return e.apply(this,arguments)}}(),createItem:function(){var e=l(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.comments.create(i()(r,function(e,r,t){return e[n()(t)]=r}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,u)}));return function(r){return e.apply(this,arguments)}}(),deleteItem:function(){var e=l(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.comments.destroy(r.id);case 2:return e.abrupt("return",{id:r.id,itemType:c.a});case 3:case"end":return e.stop()}},e,u)}));return function(r){return e.apply(this,arguments)}}()};r.a=m},"./modules/MediaLibrary/ItemTypesDescriptors/Comment/CommentDescriptor.config.js":function(e,r,t){"use strict";var s=t("./services/services.js"),n=t("./core/ItemTypesDescriptors/ItemTypesDescriptors.constants.js"),o={isMatch:function(e,r){if(r&&r.subjectKind&&r.subjectId)return r.subjectKind===e.subjectKind&&r.subjectId===e.subjectId?n.e.YES:n.e.NO;throw new Error("Unexpected error occurred. The filter '"+JSON.stringify(r)+"' is not recognized. Cannot determine whether the item matches the filter")},itemTypeLabel:Object(s.i)("commentDescriptor.itemTypeLabel")};r.a=o},"./modules/MediaLibrary/ItemTypesDescriptors/Comment/CommentDescriptor.constants.js":function(e,r,t){"use strict";t.d(r,"a",function(){return s});var s="comment";Object.freeze({CONTENT:"content"})},"./modules/MediaLibrary/ItemTypesDescriptors/Comment/CommentDescriptor.js":function(e,r,t){"use strict";var s=t("./core/ItemTypesDescriptors/ItemTypesDescriptors.js"),n=t("./modules/MediaLibrary/ItemTypesDescriptors/Comment/CommentDescriptor.api.js"),o=t("./modules/MediaLibrary/ItemTypesDescriptors/Comment/CommentDescriptor.constants.js"),i=t("./modules/MediaLibrary/ItemTypesDescriptors/Comment/CommentDescriptor.config.js");Object(s.f)(o.a,{api:n.a,config:i.a})},"./modules/MediaLibrary/ItemTypesDescriptors/Folder/FolderDescriptor.config.js":function(e,r,t){"use strict";var s=t("../node_modules/lodash/omit.js"),n=t.n(s),o=t("./services/services.js"),i=t("./icons.js"),a=t("./core/ItemTypesDescriptors/ItemTypesDescriptors.constants.js"),c=t("./core/Data/Items/Items.selectors.js"),u=t("./modules/MediaLibrary/ItemTypesDescriptors/Asset/AssetDescriptor.constants.js"),p=t("./modules/MediaLibrary/ItemTypesDescriptors/Folder/FolderDescriptor.constants.js"),d=t("./modules/MediaLibrary/ItemTypesDescriptors/Folder/FolderDescriptor.prototype.js"),l=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},m=arguments;r.a={isMatch:function(e,r){if(r&&r.path)return e.parentPath===r.path?a.e.YES:a.e.NO;throw new Error("Unexpected error occurred. The filter '"+JSON.stringify(r)+"' is not recognized. Cannot determine whether the item matches the filter")},getItemDirectDependencies:function(e,r){var t=Object(c.a)(e,p.a).filter(function(e){return e.path.startsWith(r.path)&&e.path!==r.path}),s=Object(c.a)(e,u.b).filter(function(e){return e.folderPath.startsWith(r.path)});return[].concat(t,s)},itemPrototype:d.a,getItemIcon:function(e){return e.isShared?i.sharedFolder:i.folder},itemSerializer:function(e){var r=e.resourceCount,t=e.mlUiRole,s=(e.mlRole,function(e,r){var t={};for(var s in e)r.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}(e,["resourceCount","mlUiRole","mlRole"])),o=!!m[1],i=l({},o?s:e,{assetCount:r,role:t});return n()(i,["icon","permissions"])},itemTypeLabel:Object(o.i)("folder.itemTypeLabel")}},"./modules/MediaLibrary/ItemTypesDescriptors/Folder/FolderDescriptor.helpers.js":function(e,r,t){"use strict";t.d(r,"a",function(){return s}),t.d(r,"b",function(){return n});var s=function(e){return e?e.split("/").slice(-2,-1)[0]||"":null},n=function(e){return""===e?null:e.split("/").slice(0,-1).join("/")||""}},"./modules/MediaLibrary/ItemTypesDescriptors/Folder/FolderDescriptor.js":function(e,r,t){"use strict";var s=t("./core/ItemTypesDescriptors/ItemTypesDescriptors.js"),n=t("./modules/MediaLibrary/ItemTypesDescriptors/Folder/FolderDescriptor.api.js"),o=t("./modules/MediaLibrary/ItemTypesDescriptors/Folder/FolderDescriptor.constants.js"),i=t("./modules/MediaLibrary/ItemTypesDescriptors/Folder/FolderDescriptor.config.js");Object(s.f)(o.a,{api:n.a,config:i.a})},"./modules/MediaLibrary/ItemTypesDescriptors/Folder/FolderDescriptor.prototype.js":function(e,r,t){"use strict";var s=t("./modules/MediaLibrary/ItemTypesDescriptors/Folder/FolderDescriptor.helpers.js"),n={};Object.defineProperty(n,"parentPath",{get:function(){return Object(s.b)(this.path)}}),Object.defineProperty(n,"parentName",{get:function(){return Object(s.a)(this.path)}}),r.a=n},"./modules/MediaLibrary/ItemTypesDescriptors/ItemTypesDescriptors.registration.js":function(e,r,t){"use strict";t("./modules/MediaLibrary/ItemTypesDescriptors/Asset/AssetDescriptor.js"),t("./modules/MediaLibrary/ItemTypesDescriptors/Folder/FolderDescriptor.js"),t("./modules/MediaLibrary/ItemTypesDescriptors/Collection/CollectionDescriptor.js"),t("./modules/MediaLibrary/ItemTypesDescriptors/Comment/CommentDescriptor.js"),t("./modules/MediaLibrary/ItemTypesDescriptors/User/UserDescriptor.js"),t("./modules/MediaLibrary/ItemTypesDescriptors/MetadataField/MetadataFieldDescriptor.js")},"./modules/MediaLibrary/ItemTypesDescriptors/MetadataField/MetadataFieldDescriptor.api.js":function(e,r,t){"use strict";var s=t("./services/services.js"),n=this;var o={loadItems:function(){var e=function(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){return function s(n,o){try{var i=r[n](o),a=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(a).then(function(e){s("next",e)},function(e){s("throw",e)});e(a)}("next")})}}(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.metadataFields.all();case 2:return r=e.sent,e.abrupt("return",{items:r.items,nextCursor:r.meta.next_cursor,totalCount:r.meta.total_count});case 4:case"end":return e.stop()}},e,n)}));return function(){return e.apply(this,arguments)}}()};r.a=o},"./modules/MediaLibrary/ItemTypesDescriptors/MetadataField/MetadataFieldDescriptor.config.js":function(e,r,t){"use strict";var s=t("./services/services.js"),n={itemTypeLabel:Object(s.i)("metadataFieldDescriptor.itemTypeLabel")};r.a=n},"./modules/MediaLibrary/ItemTypesDescriptors/MetadataField/MetadataFieldDescriptor.constants.js":function(e,r,t){"use strict";t.d(r,"a",function(){return s});var s="field"},"./modules/MediaLibrary/ItemTypesDescriptors/MetadataField/MetadataFieldDescriptor.js":function(e,r,t){"use strict";var s=t("./core/ItemTypesDescriptors/ItemTypesDescriptors.js"),n=t("./modules/MediaLibrary/ItemTypesDescriptors/MetadataField/MetadataFieldDescriptor.constants.js"),o=t("./modules/MediaLibrary/ItemTypesDescriptors/MetadataField/MetadataFieldDescriptor.api.js"),i=t("./modules/MediaLibrary/ItemTypesDescriptors/MetadataField/MetadataFieldDescriptor.config.js");Object(s.f)(n.a,{api:o.a,config:i.a})},"./modules/MediaLibrary/ItemTypesDescriptors/User/UserDescriptor.api.js":function(e,r,t){"use strict";var s=t("../node_modules/lodash/isString.js"),n=t.n(s),o=t("./services/services.js"),i=this;var a={loadItems:function(){var e=function(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){return function s(n,o){try{var i=r[n](o),a=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(a).then(function(e){s("next",e)},function(e){s("throw",e)});e(a)}("next")})}}(regeneratorRuntime.mark(function e(r){var t,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.filter||{term:""},r.maxResults&&n()(t.term)){e.next=3;break}throw new Error("Must provide a Search-Term and Max-Results when loading users");case 3:return e.next=5,o.a.searchAutocomplete.autocomplete(t.term,{users:r.maxResults});case 5:return s=e.sent,e.abrupt("return",{items:s.users,totalCount:s.users.length,nextCursor:null});case 7:case"end":return e.stop()}},e,i)}));return function(r){return e.apply(this,arguments)}}()};r.a=a},"./modules/MediaLibrary/ItemTypesDescriptors/User/UserDescriptor.config.js":function(e,r,t){"use strict";var s=t("./services/services.js"),n={itemTypeLabel:Object(s.i)("userDescriptor.itemTypeLabel")};r.a=n},"./modules/MediaLibrary/ItemTypesDescriptors/User/UserDescriptor.constants.js":function(e,r,t){"use strict";t.d(r,"a",function(){return s});var s="user";Object.freeze({NAME:"name",EMAIL:"email"})},"./modules/MediaLibrary/ItemTypesDescriptors/User/UserDescriptor.js":function(e,r,t){"use strict";var s=t("./core/ItemTypesDescriptors/ItemTypesDescriptors.js"),n=t("./modules/MediaLibrary/ItemTypesDescriptors/User/UserDescriptor.api.js"),o=t("./modules/MediaLibrary/ItemTypesDescriptors/User/UserDescriptor.constants.js"),i=t("./modules/MediaLibrary/ItemTypesDescriptors/User/UserDescriptor.config.js");Object(s.f)(o.a,{api:n.a,config:i.a})},"./modules/MediaLibrary/MediaLibrary.js":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=t("../node_modules/react/index.js"),n=(t.n(s),t("../node_modules/react-redux/es/index.js")),o=t("../node_modules/loadable-components/dist/loadable-components.es.js"),i=t("../node_modules/react-helmet/lib/Helmet.js"),a=(t.n(i),t("./modules/Identity/Identity.selectors.js")),c=t("./modules/Core/Core.actions.js"),u=t("./modules/Core/Core.constants.js"),p=t("./services/services.js"),d=t("./modules/MainIFrame/MainIFrame.js"),l=t("./modules/Core/EmptyPage/EmptyPageAccessDenied.js"),m=(t("./modules/MediaLibrary/MediaLibrary.sub.js"),t("./modules/MediaLibrary/ItemTypesDescriptors/ItemTypesDescriptors.registration.js"),{setNavigationFault:c.c}),f=Object(n.connect)(function(e){return{isNmlEnabled:Object(a.O)(e),isAllowedForMl:Object(a.c)(e),shouldForceNewMl:Object(a.r)(e)}},m)(function(e){var r=e.isNmlEnabled,n=e.isAllowedForMl,a=e.shouldForceNewMl,c=e.setNavigationFault;if(r&&window.location.href.includes("/media_library#dialog/")){var m=window.location.href.replace("/media_library#dialog/","/media_library/asset/");window.location.replace(m)}!r&&a&&(c(u.p.NEW_ML_REQUIRED),n=!1);var f=Object(o.a)(function(){return t.e(9).then(t.bind(null,"./modules/MediaLibrary/NewMediaLibrary.js"))}),y=n?r?s.createElement(f,null):s.createElement(d.a,{pathname:p.b.path.modules.rails.mediaLibrary}):s.createElement(l.a,null);return s.createElement("div",null,s.createElement(i.Helmet,null,s.createElement("title",null,Object(p.i)("htmlHead.defaultTitle")," - ",Object(p.i)("moduleNames.mediaLibrary"))),y)});r.default=f},"./modules/MediaLibrary/MediaLibrary.sub.js":function(e,r,t){"use strict";var s=t("./services/services.js"),n=t("./modules/Core/Core.constants.js"),o=t("./modules/Identity/Identity.selectors.js"),i=t("./modules/MainBody/MainBody.selectors.js"),a=t("./modules/MediaLibrary/FoldersPane/FoldersPane.routes.js"),c=t("./modules/MediaLibrary/Grids/AssetsGrid/AssetsGrid.actions.js"),u=t("./modules/MediaLibrary/MediaLibrary.selectors.js");Object(s.g)(o.m,function(e,r,t){"media_library"===Object(i.a)(t())&&r(Object(a.navigateToFolderRoute)()),r({type:n.v.CUSTOMER_CHANGED})}),Object(s.g)(u.g,function(e,r){r(Object(c.m)())})}});
//# sourceMappingURL=MediaLibrary.01069be4085175e1946e.bundle.js.map